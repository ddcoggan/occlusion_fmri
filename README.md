Analysis pipeline for fMRI experiments and computational control analyses, currently under review at Cerebral Cortex.

These scripts were created on Python 3.8 with the packages listed in requirements.txt installed. You will also need docker, FSL, and Freesurfer installed and callable from your python environment via 'os.system' commands. For FSL and Freesurfer, this can often be achieved by activating these environments in a terminal before opening your python IDE with a further command within this terminal.

The fMRI data from the two experiments are not contained here, but are available from Dryad at DOI: 10.5061/dryad.5tb2rbpg1. This dataset has the same files as this github repo, with two additional top-level directories named 'exp1', 'exp2', in which the data lie. To reduce the size of this dataset (to save on costs), the FEAT analysis outputs were removed, but these can be regenerated by running 'fMRI_pipeline.py'. It shouldn't take longer than a day if you are not overwriting any existing analyses in the dataset (using overwrite flags), have a reasonably powerful computer, and make use of parallel processing through the 'num_procs' parameter in this script (set it to your number of CPU cores or slightly under). Prior to running this script, you may want to delete/correct any symlinks that are broken in exp?/derivatives/registration and exp?/derivatives/ROIs, as broken links can trip up the execution.

The computational control analyses can be performed by running 'control/control/VOneNet/VOneNet_pipeline.py'.

The 'control' directory also contains human fixation and pRF data described in the manuscript. 

Stimuli for both experiments are contained in 'exp1/stimuli/images'.


